# =============================
# üíæ STORAGE
# -----------------------------
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HikariCP.
# =============================
storage:
  type: mysql
  host: 127.0.0.1
  port: 3306
  database: security
  user: twofa
  password: "change_me"
  pool:
    maximumPoolSize: 10

# =============================
# üîê SECURITY CORE
# -----------------------------
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã 2FA –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤.
# =============================
security:
  mode: totp_telegram     # totp | telegram | totp_telegram
  secret_encryption_key_env: TWOFA_MASTER_KEY # –∏–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å Base64 –∫–ª—é—á–æ–º (32 –±–∞–π—Ç–∞ –¥–ª—è AES-256)
  secret_encryption_key_b64: "" # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–∞–º Base64-–∫–ª—é—á –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ, –µ—Å–ª–∏ ENV –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
  totp:
    issuer: "BlockEra"
    digits: 6
    period_seconds: 30
    window_steps: 1 # –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–¥—ã —Å–æ —Å–¥–≤–∏–≥–æ–º -1..+1 —à–∞–≥–∞
  policy:
    required_permission: blockera.twofa.required # —É –∫–æ–≥–æ 2FA –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
    cooldown:
      enabled: true # –≤—ã–∫–ª—é—á–∏—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ "–∫–∞–∂–¥—ã–π –≤—Ö–æ–¥"
      default:
        minutes: 1440 # —Å–∫–æ–ª—å–∫–æ –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É (24 —á–∞—Å–∞)
        per_ip: true # —Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫—É–ª–¥–∞—É–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ IP
      groups:
        # ‚ñ∏ –ò–≥—Ä–æ–∫–∏ —Å —ç—Ç–∏–º –ø–µ—Ä–º–∏—à–µ–Ω–æ–º –ø—Ä–æ—Ö–æ–¥—è—Ç 2FA –Ω–∞ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥–µ (0 –º–∏–Ω—É—Ç).
        - permission: blockera.twofa.cooldown.always
          force: true
        # ‚ñ∏ –ü—Ä–∏–º–µ—Ä: –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–µ—Ä–º–∏—à–µ–Ω –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
        - permission: blockera.twofa.cooldown.default
          minutes: 4320   # —Ç—Ä–∏ –¥–Ω—è
          per_ip: true

# =============================
# üïí SESSION CACHE
# -----------------------------
# –°–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–≥—Ä–æ–∫ –Ω–µ –±—É–¥–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏.
# =============================
session:
  expire_minutes: 120

# =============================
# üé® UI & –ü–û–í–ï–î–ï–ù–ò–ï –ë–õ–û–ö–ò–†–û–í–ö–ò
# -----------------------------
# –ó–¥–µ—Å—å —É–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –≤–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è 2FA.
# =============================
ui:
  prefix: "&b&l[2FA] &r"
  allow_commands_when_pending:
    - "/2fa"
    - "/help"
  qr_link_template: "https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=%s"
  freeze:
    walk_speed: 0.0
    fly_speed: 0.0
    invulnerable: true
    collidable: false
  unlock:
    walk_speed: 0.2
    fly_speed: 0.1
    invulnerable: false
    collidable: true

# =============================
# üõ†Ô∏è COMMANDS
# -----------------------------
# –ê–ª–∏–∞—Å—ã –∫–æ–º–∞–Ω–¥, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é.
# =============================
commands:
  setup: ["setup"]
  confirm: ["confirm"]
  status: ["status"]
  disable: ["disable"]
  force_disable: ["force-disable"]
  reload: ["reload"]
  telegram_link: ["link"]
  telegram_status: ["tgstatus"]
  telegram_unlink: ["unlinktelegram"]

# =============================
# ü§ñ TELEGRAM AUTH
# -----------------------------
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–æ—Ç–æ–º –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Ç–µ–ª–µ–≥—Ä–∞–º-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
# =============================
telegram:
  bot_username: "BlockEra_BOT"
  help_link: "https://t.me/BlockEra_BOT"
  challenge_ttl_seconds: 180
  poll_interval_ticks: 40  # –∫–∞–∫ —á–∞—Å—Ç–æ –ø–ª–∞–≥–∏–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ë–î (–∫–∞–∂–¥—ã–µ 2 —Å–µ–∫ –ø—Ä–∏ 20 —Ç–∏–∫–∞—Ö/—Å–µ–∫)
  auth_on_join: true
  kick_after_seconds: 120
  cooldown_minutes: 1440
  freeze:
    deny_chat: true
    deny_commands_except: ["/2fa", "/help"]
    walk_speed: 0.0
    fly_speed: 0.0
    invulnerable: true
    collidable: false
    unlock:
      walk_speed: 0.2
      fly_speed: 0.1
      invulnerable: false
      collidable: true
